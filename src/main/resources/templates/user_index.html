<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course List - UC Management</title>
    <link rel="stylesheet" type="text/css" href="/css/user_index.css">
</head>
<body>
    <header>
        <h1>Course List</h1>
        <nav>
            <button onclick="window.location.href='/logout'">Logout</button>
            <button onclick="window.location.href='/createUC'">Create UC</button>
        </nav>
    </header>

    <main>
        <section class="section">
            <h2>Available Unit Courses (UCs)</h2>

            <!-- Check if curricularUnits is not null and not empty -->
            <div th:if="${curricularUnits != null && curricularUnits.size() > 0}">
                <table>
                    <thead>
                        <tr>
                            <th>UC Name</th>
                            <th>Number of Students</th>
                            <th>Evaluation Type</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Loop through the list of curricular units -->
                        <tr th:each="uc : ${curricularUnits}">
                            <td th:text="${uc.nameUC}">UC Name</td>
                            <td th:text="${uc.studentsNumber}">0</td>
                            <td th:text="${uc.typeUC}">None</td>
                            <td>
                                <!-- Edit Button -->
                                <button th:onclick="'window.location.href=\'/user_editUC?id=' + ${uc.id} + '\''">Edit</button>
                                
                                <!-- Remove Button as a form -->
                                <form th:action="@{/remove-uc/{id}(id=${uc.id})}" method="POST" style="display:inline;">
                                    <button type="submit">Remove</button>
                                </form>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Message when no curricular units are found -->
            <p th:if="${curricularUnits == null || curricularUnits.size() == 0}">
                No curricular units found. Please create a new UC.
            </p>
        </section>
    </main>

    <footer>
        <p>&copy; 2024 University - Academic Administration System</p>
    </footer>

</body>
</html>
